import{r as d,h as c,j as e,C as j,L as o,I as x,E as m,l as u,m as p,n as C,s as b,p as N,N as w,t as v,v as y,w as L,x as k,y as S}from"./index-DMMTZZ-L.js";const F=d.forwardRef(({toggleDialog:s,children:l},a)=>{const{setError:t}=c();return e.jsx(e.Fragment,{children:e.jsx("dialog",{onClick:r=>{r.currentTarget===r.target&&(s&&s(),t(null))},ref:a,className:"transform max-lg:hidden transition-all duration-1000 ease-linear backdrop:bg-black backdrop:bg-opacity-50 fixed top-0 right-0 mr-0 mt-0 w-[25%] min-h-[60%]   px-4 bg-white rounded",children:l})})}),U="data:image/svg+xml,%3csvg%20width='17'%20height='19'%20viewBox='0%200%2017%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.11047%209.6734C6.16563%209.6181%206.23115%209.57424%206.30328%209.5443C6.37542%209.51437%206.45275%209.49896%206.53085%209.49896C6.60894%209.49896%206.68628%209.51437%206.75841%209.5443C6.83055%209.57424%206.89607%209.6181%206.95122%209.6734L8.3121%2011.0355L9.67297%209.6734C9.78446%209.56191%209.93568%209.49927%2010.0933%209.49927C10.251%209.49927%2010.4022%209.56191%2010.5137%209.6734C10.6252%209.78489%2010.6878%209.9361%2010.6878%2010.0938C10.6878%2010.2514%2010.6252%2010.4027%2010.5137%2010.5141L9.15166%2011.875L10.5137%2013.2359C10.6252%2013.3474%2010.6878%2013.4986%2010.6878%2013.6563C10.6878%2013.8139%2010.6252%2013.9652%2010.5137%2014.0766C10.4022%2014.1881%2010.251%2014.2508%2010.0933%2014.2508C9.93568%2014.2508%209.78446%2014.1881%209.67297%2014.0766L8.3121%2012.7146L6.95122%2014.0766C6.83973%2014.1881%206.68852%2014.2508%206.53085%2014.2508C6.37318%2014.2508%206.22196%2014.1881%206.11047%2014.0766C5.99898%2013.9652%205.93635%2013.8139%205.93635%2013.6563C5.93635%2013.4986%205.99898%2013.3474%206.11047%2013.2359L7.47253%2011.875L6.11047%2010.5141C6.05518%2010.459%206.01131%2010.3935%205.98137%2010.3213C5.95144%2010.2492%205.93604%2010.1719%205.93604%2010.0938C5.93604%2010.0157%205.95144%209.93834%205.98137%209.86621C6.01131%209.79407%206.05518%209.72855%206.11047%209.6734Z'%20fill='%239F9F9F'/%3e%3cpath%20d='M8.3125%201.1875C9.09986%201.1875%209.85497%201.50028%2010.4117%202.05703C10.9685%202.61378%2011.2812%203.36889%2011.2812%204.15625V4.75H5.34375V4.15625C5.34375%203.36889%205.65653%202.61378%206.21328%202.05703C6.77003%201.50028%207.52514%201.1875%208.3125%201.1875ZM12.4688%204.75V4.15625C12.4688%203.05394%2012.0309%201.99679%2011.2514%201.21734C10.472%200.437889%209.41481%200%208.3125%200C7.21019%200%206.15304%200.437889%205.37359%201.21734C4.59414%201.99679%204.15625%203.05394%204.15625%204.15625V4.75H0V16.625C0%2017.2549%200.250223%2017.859%200.695621%2018.3044C1.14102%2018.7498%201.74511%2019%202.375%2019H14.25C14.8799%2019%2015.484%2018.7498%2015.9294%2018.3044C16.3748%2017.859%2016.625%2017.2549%2016.625%2016.625V4.75H12.4688ZM1.1875%205.9375H15.4375V16.625C15.4375%2016.9399%2015.3124%2017.242%2015.0897%2017.4647C14.867%2017.6874%2014.5649%2017.8125%2014.25%2017.8125H2.375C2.06006%2017.8125%201.75801%2017.6874%201.53531%2017.4647C1.31261%2017.242%201.1875%2016.9399%201.1875%2016.625V5.9375Z'%20fill='%239F9F9F'/%3e%3c/svg%3e",h=({modalTitle:s,toggleDialog:l})=>e.jsxs("div",{className:"flex relative justify-between items-center mt-4 z-[1000] mb-12 after:content['*'] after:absolute after:w-full  after:h-[1px] after:bg-[#D9D9D9] after:-bottom-6",children:[e.jsx("h2",{className:"font-semibold text-lg",children:s}),e.jsx("button",{onClick:l,className:"",children:e.jsx("img",{src:U,alt:"Close modal"})})]}),R="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%200C4.47727%200%200%204.47727%200%2010C0%2015.5227%204.47727%2020%2010%2020C15.5227%2020%2020%2015.5227%2020%2010C20%204.47727%2015.5227%200%2010%200ZM13.37%207.91545C13.5356%207.744%2013.6272%207.51436%2013.6252%207.276C13.6231%207.03764%2013.5275%206.80963%2013.3589%206.64107C13.1904%206.47252%2012.9624%206.37691%2012.724%206.37484C12.4856%206.37277%2012.256%206.4644%2012.0845%206.63L10%208.71455L7.91545%206.63C7.83159%206.54317%207.73128%206.47392%207.62037%206.42627C7.50946%206.37863%207.39016%206.35355%207.26946%206.3525C7.14875%206.35145%207.02904%206.37445%206.91731%206.42016C6.80559%206.46587%206.70409%206.53338%206.61873%206.61873C6.53338%206.70409%206.46587%206.80559%206.42016%206.91731C6.37445%207.02904%206.35145%207.14875%206.3525%207.26946C6.35355%207.39016%206.37863%207.50946%206.42627%207.62037C6.47392%207.73128%206.54317%207.83159%206.63%207.91545L8.71455%2010L6.63%2012.0845C6.54317%2012.1684%206.47392%2012.2687%206.42627%2012.3796C6.37863%2012.4905%206.35355%2012.6098%206.3525%2012.7305C6.35145%2012.8513%206.37445%2012.971%206.42016%2013.0827C6.46587%2013.1944%206.53338%2013.2959%206.61873%2013.3813C6.70409%2013.4666%206.80559%2013.5341%206.91731%2013.5798C7.02904%2013.6255%207.14875%2013.6486%207.26946%2013.6475C7.39016%2013.6465%207.50946%2013.6214%207.62037%2013.5737C7.73128%2013.5261%207.83159%2013.4568%207.91545%2013.37L10%2011.2855L12.0845%2013.37C12.256%2013.5356%2012.4856%2013.6272%2012.724%2013.6252C12.9624%2013.6231%2013.1904%2013.5275%2013.3589%2013.3589C13.5275%2013.1904%2013.6231%2012.9624%2013.6252%2012.724C13.6272%2012.4856%2013.5356%2012.256%2013.37%2012.0845L11.2855%2010L13.37%207.91545Z'%20fill='%239F9F9F'/%3e%3c/svg%3e",E=({toggleDialog:s})=>{const l=d.useContext(j);if(!l)return;const{cartItems:a,removeFromCart:t,getCartTotalPrice:r}=l,i=r();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4 relative  ",children:[e.jsx(h,{modalTitle:"Shopping Cart",toggleDialog:s}),a&&a.length>0?a.map(n=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{className:"w-[105px] aspect-square rounded-md",src:n.img,alt:""}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"group flex flex-col items-start gap-4",children:[e.jsx(o,{"aria-label":`Go to ${n.name} page`,className:"font-medium relative   after:content-[''] after:w-full after:h-[2px] after:absolute after:bottom-0 after:bg-black after:right-0 group-hover:after:scale-0 after:origin-left group-hover:after:invisible after:transition-all block w-full",to:`/product/${n.id}`,children:e.jsx("p",{className:"text-overflow-ellipsis max-w-[250px]",children:n.name})}),e.jsxs("p",{className:"flex justify-around w-[50%]",children:[e.jsx("span",{children:n.quantity})," ",e.jsx("span",{children:"X"}),e.jsxs("span",{className:"text-primary",children:["$",n.price]})]})]}),e.jsx("button",{onClick:()=>t(n.id),children:e.jsx("img",{src:R,alt:""})})]})]},crypto.randomUUID())):e.jsxs("div",{className:"self-center m-10 flex flex-col items-center gap-4",children:[e.jsx("h3",{children:"Your cart is empty"}),e.jsx(o,{className:"border border-faint px-4 py-2 rounded-md",to:"/shop",children:"Go to shop"})]})]}),e.jsxs("div",{className:"sticky top-[100%] mb-4  bg-white",children:[e.jsxs("div",{className:"flex border-b-2  justify-around py-5 w-auto  ",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("span",{className:"text-primary font-semibold",children:["$",i]})]}),e.jsx("div",{className:"mt-4 ",children:e.jsxs("ul",{className:"flex justify-around gap-4  [&>*]:border [&>*]:border-faint [&>*]:rounded-full [&>*]:px-4  ",children:[e.jsx("li",{children:e.jsx(o,{"aria-label":"Go to cart",to:"/cart",children:"Cart"})}),e.jsx("li",{children:e.jsx(o,{"aria-label":"Go to checkout",to:"/checkout",children:"Checkout"})})]})})]})]})},M=({isLogin:s,setIsLogin:l})=>{const{error:a,onSignUp:t,handleEmail:r,handlePassword:i,signInWithGoogle:n}=c();return e.jsxs("form",{onSubmit:t,className:"mx-auto p-4 animate-sign-up-appear transition-all duration-200",children:[e.jsxs("fieldset",{className:"flex flex-col gap-6",children:[e.jsx(x,{label:"Email",id:"email",type:"email",name:"email",required:!0,handleChange:r,styles:"w-[100%] p-4 border-2 rounded-md"}),e.jsx(x,{label:"Password",id:"password",type:"password",name:"password",required:!0,handleChange:i,styles:"w-[100%] p-4 border-2 rounded-md"}),e.jsx("button",{type:"submit",className:"border-2  w-fit self-center px-6 py-2 rounded-full",children:"Sign Up"}),a?e.jsx(m,{}):null]}),e.jsxs("div",{className:"flex flex-col justify-center items-center mt-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"relative w-max px-4 bg-white text-gray-400",children:[e.jsx("span",{className:"relative z-10 bg-white px-1",children:"OR"}),e.jsx("span",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t  border-gray-400"})})]}),e.jsx("div",{className:"w-full border-2  rounded-full",children:e.jsxs("button",{onClick:n,className:"flex gap-2 items-center px-4 py-2",children:[e.jsx("img",{src:u,alt:"/"}),e.jsx("p",{children:"Sign Up with Google"})]})})]}),e.jsxs("div",{className:"flex gap-1 mt-4",children:[e.jsx("p",{children:"Already have an account?"}),e.jsx("button",{onClick:()=>l(!s),className:"text-faint underline underline-offset-4",children:"Log In"})]})]})]})},A=({isLogin:s,setIsLogin:l})=>{const{error:a,onLogin:t,handleEmail:r,handlePassword:i,signInWithGoogle:n,setError:f}=c();return e.jsxs("form",{onSubmit:g=>{t(g)},action:"",className:"animate-sign-up-appear mx-auto p-4 transition-all",children:[e.jsxs("fieldset",{className:"flex flex-col gap-6 items-center",children:[e.jsx(x,{label:"Email",id:"email",type:"email",name:"email",required:!0,handleChange:r,styles:"w-[100%] p-4 border-2 rounded-md"}),e.jsx(x,{label:"Password",id:"password",type:"password",name:"password",required:!0,handleChange:i,styles:"w-[100%] p-4 border-2 rounded-md"}),e.jsx("button",{type:"submit",className:"border-2  w-fit self-center px-6 py-2 rounded-full",children:"Sign In"}),a?e.jsx(m,{}):null]}),e.jsxs("div",{className:"flex flex-col justify-center items-center mt-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"relative w-max px-4 bg-white text-gray-400",children:[e.jsx("span",{className:"relative z-10 bg-white px-1",children:"OR"}),e.jsx("span",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t  border-gray-400"})})]}),e.jsx("div",{className:"w-full border-2  rounded-full",children:e.jsxs("button",{type:"button",onClick:()=>{n(),f(null)},className:"flex gap-2 items-center px-4 py-2",children:[e.jsx("img",{src:u,alt:"/"}),e.jsx("p",{children:"Sign In with Google"})]})})]}),e.jsxs("div",{className:"flex gap-1 mt-4",children:[e.jsx("p",{children:"Don't have an account?"}),e.jsx("button",{onClick:()=>l(!s),className:"text-faint underline underline-offset-4",children:"Create one"})]})]})]})},G=()=>{const{user:s,signOut:l}=c();return e.jsx("div",{className:"flex flex-col items-center animate-sign-up-appear  ",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[e.jsx("div",{className:"border-2  rounded-full w-fit flex items-center justify-center",children:s&&s?.photoURL?e.jsx("img",{className:"w-full rounded-full",src:s.photoURL,alt:""}):s&&!s.photoURL?e.jsx("img",{className:"w-full rounded-full ",src:p}):null}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx("p",{className:"text-center",children:s?.displayName?s.displayName:"User"})}),e.jsxs("button",{className:"flex items-center  gap-3 border-2 px-3 py-2 rounded-full absolute bottom-2",onClick:l,children:[e.jsx(C,{}),e.jsx("p",{children:"Sign out"})]})]})})},I=({toggleDialog:s})=>{const[l,a]=d.useState(!0),{user:t}=c();return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(h,{modalTitle:t&&!t.isAnonymous?"Profile":l?"Login":"Sign Up",toggleDialog:s||void 0}),t&&!t.isAnonymous?e.jsx(G,{}):l?e.jsx(A,{isLogin:l,setIsLogin:a}):e.jsx(M,{isLogin:l,setIsLogin:a})]})},D=()=>{const[s,l]=d.useState(null),a=d.useRef(null),t=()=>{a.current&&(a.current.hasAttribute("open")?a.current.close():a.current.showModal(),a.current.hasAttribute("open"))},{user:r}=c();return e.jsx(e.Fragment,{children:e.jsxs("nav",{className:" max-lg:hidden px-[5%] py-[1%] flex justify-between items-center  flex-wrap sticky top-0 z-[1000] bg-white/55 backdrop-blur-md",children:[e.jsxs(o,{"aria-label":"Link to home page",to:"/",className:"flex items-center justify-center",children:[e.jsx("img",{src:b,alt:"logo"}),e.jsx("h1",{className:"text-4xl font-bold font-secondary",children:"Furniro"})]}),e.jsx("div",{className:"flex gap-[10%]",children:N?.map(i=>e.jsx(w,{className:({isActive:n})=>n?v:y,to:i.path,children:i.text},i.path))}),e.jsxs("div",{className:" flex gap-8 items-center",children:[e.jsx("button",{onClick:()=>{l(e.jsx(I,{toggleDialog:t})),t()},className:"w-8",children:r&&r.photoURL?e.jsx("img",{className:"rounded-full",src:r.photoURL,alt:""}):r&&!r.photoURL&&!r.isAnonymous?e.jsx("img",{src:p,alt:"/"}):e.jsx("img",{src:L,alt:"/"})}),e.jsx(o,{"aria-label":"Link to wishlist",to:"/wishlist",className:"w-8",children:e.jsx("img",{src:k,alt:"favorite items"})}),e.jsx("button",{onClick:()=>{l(e.jsx(E,{toggleDialog:t})),t()},className:"w-8",children:e.jsx("img",{src:S,alt:"shopping cart"})})]}),e.jsx(F,{children:s,ref:a,toggleDialog:t})]})})};export{D as default};
