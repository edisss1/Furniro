import{j as e,u as w,z as M,o as b,r as C,i as N}from"./index-DMMTZZ-L.js";import{H}from"./Header-DHFqVlwC.js";import{S as V,q as f}from"./quickSort-DRTaKIbJ.js";import{P as k}from"./ProductCard-BAOfwOMb.js";import{S as P}from"./ProductCardSkeleton-B9evaVqk.js";const Z=({handlePagination:a,handleNextPage:r,currentPage:l,totalPages:n})=>{const i=[];if(n<=5)for(let s=1;s<=n;s++)i.push(s);else{const s=[1,2],m=[n-1,n],u=[l-1>2?l-1:null,l,l+1<n-1?l+1:null].filter(c=>c!==null),h=new Set([...s,...u,...m]);let o=null;h.forEach(c=>{o!==null&&c-o>1&&i.push("..."),i.push(c),o=c})}return e.jsxs("div",{className:"flex flex-wrap gap-12 max-xl:gap-8 max-lg:gap-5 max-md:gap-3 max-sm:gap-1 m-auto justify-center mt-14",children:[i.map((s,m)=>e.jsx("button",{className:`w-12 aspect-square rounded flex justify-center items-center ${s===l?"bg-primary":"bg-secondary"}`,onClick:()=>typeof s=="number"&&a(s),children:s},m)),l<n&&e.jsx("button",{className:"bg-secondary px-6 py-2 rounded-md",onClick:()=>r(l+1),children:"Next"})]})},T="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.0238%207.14285H8.92857M6.54762%207.14285H2.97619M22.0238%2019.0476H8.92857M6.54762%2019.0476H2.97619M16.0714%2013.0952H2.97619M22.0238%2013.0952H18.4524M7.7381%204.7619C8.05383%204.7619%208.35663%204.88733%208.57989%205.11058C8.80315%205.33384%208.92857%205.63664%208.92857%205.95238V8.33333C8.92857%208.64906%208.80315%208.95187%208.57989%209.17512C8.35663%209.39838%208.05383%209.52381%207.7381%209.52381C7.42236%209.52381%207.11956%209.39838%206.8963%209.17512C6.67304%208.95187%206.54762%208.64906%206.54762%208.33333V5.95238C6.54762%205.63664%206.67304%205.33384%206.8963%205.11058C7.11956%204.88733%207.42236%204.7619%207.7381%204.7619V4.7619ZM7.7381%2016.6667C8.05383%2016.6667%208.35663%2016.7921%208.57989%2017.0153C8.80315%2017.2386%208.92857%2017.5414%208.92857%2017.8571V20.2381C8.92857%2020.5538%208.80315%2020.8566%208.57989%2021.0799C8.35663%2021.3031%208.05383%2021.4286%207.7381%2021.4286C7.42236%2021.4286%207.11956%2021.3031%206.8963%2021.0799C6.67304%2020.8566%206.54762%2020.5538%206.54762%2020.2381V17.8571C6.54762%2017.5414%206.67304%2017.2386%206.8963%2017.0153C7.11956%2016.7921%207.42236%2016.6667%207.7381%2016.6667ZM17.2619%2010.7143C17.5776%2010.7143%2017.8804%2010.8397%2018.1037%2011.063C18.327%2011.2862%2018.4524%2011.589%2018.4524%2011.9048V14.2857C18.4524%2014.6014%2018.327%2014.9042%2018.1037%2015.1275C17.8804%2015.3508%2017.5776%2015.4762%2017.2619%2015.4762C16.9462%2015.4762%2016.6434%2015.3508%2016.4201%2015.1275C16.1969%2014.9042%2016.0714%2014.6014%2016.0714%2014.2857V11.9048C16.0714%2011.589%2016.1969%2011.2862%2016.4201%2011.063C16.6434%2010.8397%2016.9462%2010.7143%2017.2619%2010.7143V10.7143Z'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",L="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.6667%2022.1667C17.7384%2022.1667%2016.8482%2021.7979%2016.1918%2021.1416C15.5354%2020.4852%2015.1667%2019.5949%2015.1667%2018.6667C15.1667%2017.7384%2015.5354%2016.8482%2016.1918%2016.1918C16.8482%2015.5354%2017.7384%2015.1667%2018.6667%2015.1667C19.5949%2015.1667%2020.4852%2015.5354%2021.1415%2016.1918C21.7979%2016.8482%2022.1667%2017.7384%2022.1667%2018.6667C22.1667%2019.5949%2021.7979%2020.4852%2021.1415%2021.1416C20.4852%2021.7979%2019.5949%2022.1667%2018.6667%2022.1667ZM9.33334%2022.1667C8.40508%2022.1667%207.51484%2021.7979%206.85846%2021.1416C6.20208%2020.4852%205.83334%2019.5949%205.83334%2018.6667C5.83334%2017.7384%206.20208%2016.8482%206.85846%2016.1918C7.51484%2015.5354%208.40508%2015.1667%209.33334%2015.1667C10.2616%2015.1667%2011.1518%2015.5354%2011.8082%2016.1918C12.4646%2016.8482%2012.8333%2017.7384%2012.8333%2018.6667C12.8333%2019.5949%2012.4646%2020.4852%2011.8082%2021.1416C11.1518%2021.7979%2010.2616%2022.1667%209.33334%2022.1667ZM18.6667%2012.8333C17.7384%2012.8333%2016.8482%2012.4646%2016.1918%2011.8082C15.5354%2011.1518%2015.1667%2010.2616%2015.1667%209.33334C15.1667%208.40509%2015.5354%207.51485%2016.1918%206.85847C16.8482%206.20209%2017.7384%205.83334%2018.6667%205.83334C19.5949%205.83334%2020.4852%206.20209%2021.1415%206.85847C21.7979%207.51485%2022.1667%208.40509%2022.1667%209.33334C22.1667%2010.2616%2021.7979%2011.1518%2021.1415%2011.8082C20.4852%2012.4646%2019.5949%2012.8333%2018.6667%2012.8333ZM9.33334%2012.8333C8.40508%2012.8333%207.51484%2012.4646%206.85846%2011.8082C6.20208%2011.1518%205.83334%2010.2616%205.83334%209.33334C5.83334%208.40509%206.20208%207.51485%206.85846%206.85847C7.51484%206.20209%208.40508%205.83334%209.33334%205.83334C10.2616%205.83334%2011.1518%206.20209%2011.8082%206.85847C12.4646%207.51485%2012.8333%208.40509%2012.8333%209.33334C12.8333%2010.2616%2012.4646%2011.1518%2011.8082%2011.8082C11.1518%2012.4646%2010.2616%2012.8333%209.33334%2012.8333Z'%20fill='black'/%3e%3c/svg%3e",B="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.5%206.75H19.5C20.2956%206.75%2021.0587%207.06607%2021.6213%207.62868C22.1839%208.19129%2022.5%208.95435%2022.5%209.75V14.25C22.5%2015.0456%2022.1839%2015.8087%2021.6213%2016.3713C21.0587%2016.9339%2020.2956%2017.25%2019.5%2017.25H4.5C3.70435%2017.25%202.94129%2016.9339%202.37868%2016.3713C1.81607%2015.8087%201.5%2015.0456%201.5%2014.25V9.75C1.5%208.95435%201.81607%208.19129%202.37868%207.62868C2.94129%207.06607%203.70435%206.75%204.5%206.75ZM4.5%208.25C4.10218%208.25%203.72064%208.40804%203.43934%208.68934C3.15804%208.97064%203%209.35218%203%209.75V14.25C3%2014.6478%203.15804%2015.0294%203.43934%2015.3107C3.72064%2015.592%204.10218%2015.75%204.5%2015.75H19.5C19.8978%2015.75%2020.2794%2015.592%2020.5607%2015.3107C20.842%2015.0294%2021%2014.6478%2021%2014.25V9.75C21%209.35218%2020.842%208.97064%2020.5607%208.68934C20.2794%208.40804%2019.8978%208.25%2019.5%208.25H4.5ZM1.5%203C1.5%202.80109%201.57902%202.61032%201.71967%202.46967C1.86032%202.32902%202.05109%202.25%202.25%202.25H21.75C21.9489%202.25%2022.1397%202.32902%2022.2803%202.46967C22.421%202.61032%2022.5%202.80109%2022.5%203C22.5%203.19891%2022.421%203.38968%2022.2803%203.53033C22.1397%203.67098%2021.9489%203.75%2021.75%203.75H2.25C2.05109%203.75%201.86032%203.67098%201.71967%203.53033C1.57902%203.38968%201.5%203.19891%201.5%203ZM1.5%2021C1.5%2020.8011%201.57902%2020.6103%201.71967%2020.4697C1.86032%2020.329%202.05109%2020.25%202.25%2020.25H21.75C21.9489%2020.25%2022.1397%2020.329%2022.2803%2020.4697C22.421%2020.6103%2022.5%2020.8011%2022.5%2021C22.5%2021.1989%2022.421%2021.3897%2022.2803%2021.5303C22.1397%2021.671%2021.9489%2021.75%2021.75%2021.75H2.25C2.05109%2021.75%201.86032%2021.671%201.71967%2021.5303C1.57902%2021.3897%201.5%2021.1989%201.5%2021Z'%20fill='black'/%3e%3c/svg%3e",D=({filter:a,showGrid:r,showList:l,handleDisplayChangeToFlex:n,handleDisplayChangeToGrid:i})=>e.jsxs("div",{className:"flex gap-6 max-md:justify-between ",children:[e.jsx("button",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{src:a,alt:""}),e.jsx("p",{children:"Filter"})]})}),e.jsx("button",{onClick:i,children:e.jsx("img",{src:r,alt:""})}),e.jsx("button",{onClick:n,children:e.jsx("img",{src:l,alt:""})})]}),E=({itemsPerPage:a,handleItemsPerPage:r,itemsToShowValues:l,handleSortChange:n,options:i})=>e.jsxs("div",{className:"flex gap-4 justify-center items-center flex-wrap",children:[e.jsxs("div",{className:"flex gap-1 justify-center items-center",children:[e.jsx("p",{children:"Show"}),e.jsx("select",{value:a,onChange:r,className:"flex justify-center rounded-md items-center w-10 aspect-square bg-white p-2 text-faint",children:l.map(s=>e.jsx("option",{value:s.value,children:s.title},s.value))})]}),e.jsxs("div",{className:"flex justify-center items-center gap-4  ",children:[e.jsx("p",{className:"text-overflow-ellipsis w-[calc(100%)]",children:"Sort by"}),e.jsx("select",{onChange:n,className:"p-3 rounded-md bg-white text-faint",children:i.map(s=>e.jsx("option",{value:s.sortBy,children:s.optionText},s.sortBy))})]})]}),I="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.5%2024.5L19.2663%2019.257M22.1666%2012.25C22.1666%2014.88%2021.1219%2017.4024%2019.2621%2019.2621C17.4024%2021.1219%2014.88%2022.1666%2012.25%2022.1666C9.61992%2022.1666%207.09757%2021.1219%205.23784%2019.2621C3.3781%2017.4024%202.33331%2014.88%202.33331%2012.25C2.33331%209.61992%203.3781%207.09757%205.23784%205.23784C7.09757%203.3781%209.61992%202.33331%2012.25%202.33331C14.88%202.33331%2017.4024%203.3781%2019.2621%205.23784C21.1219%207.09757%2022.1666%209.61992%2022.1666%2012.25V12.25Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",F=({setSearch:a})=>e.jsxs("div",{className:"relative w-[50%] max-md:w-auto",children:[e.jsx("input",{onChange:r=>a(r.target.value),className:"px-4 py-2 w-full rounded-md focus:border-primary border-faint outline-none border-2 focus:placeholder:hidden ",type:"text",placeholder:"Search for product"}),e.jsx("img",{className:"absolute top-[50%] -translate-y-[50%] right-2",src:I,alt:""})]}),q=({filter:a,showGrid:r,showList:l,handleDisplayChangeToFlex:n,handleDisplayChangeToGrid:i,handleItemsPerPage:s,handleSortChange:m,itemsPerPage:u,itemsToShowValues:h,options:o,setSearch:c})=>e.jsxs(e.Fragment,{children:[e.jsx(D,{filter:a,showGrid:r,showList:l,handleDisplayChangeToFlex:n,handleDisplayChangeToGrid:i}),e.jsx(F,{setSearch:c}),e.jsx(E,{handleItemsPerPage:s,handleSortChange:m,itemsPerPage:u,itemsToShowValues:h,options:o})]}),O=({itemsPerPage:a,setItemsPerPage:r,onSortChange:l,setSearch:n})=>{const{setDisplay:i}=w(),s=()=>{i("grid")},m=()=>{i("flex")},u=o=>{l(o.target.value)},h=o=>{const c=Number(o.target.value);r(c)};return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(H,{pageTitle:"Shop"}),e.jsx(V,{children:e.jsx(q,{setSearch:n,filter:T,showGrid:L,showList:B,handleDisplayChangeToFlex:m,handleDisplayChangeToGrid:s,handleItemsPerPage:h,handleSortChange:u,itemsPerPage:a,itemsToShowValues:M,options:b})})]})},$=({products:a})=>{const[r,l]=C.useState("default"),[n,i]=C.useState(1),[s,m]=C.useState(8),[u,h]=C.useState(""),{display:o}=w(),{loading:c,setLoading:x}=N();C.useEffect(()=>{x(!0),a&&a.length>0&&x(!1)},[a,x]);const j=t=>{i(t)},v=t=>{i(t+1)};C.useEffect(()=>{x(!0);const t=setTimeout(()=>{x(!1)},500);return()=>clearTimeout(t)},[r,x]),C.useEffect(()=>{x(!0);const t=setTimeout(()=>{x(!1)},500);return()=>clearTimeout(t)},[r,x]);const g=C.useMemo(()=>a.filter(t=>t.name.toLowerCase().includes(u.toLowerCase())),[a,u]),p=C.useMemo(()=>{switch(r){case"cheap-first":return f(g,(t,d)=>t?.price-d?.price);case"expensive-first":return f(g,(t,d)=>d.price-t.price);case"aToZ":return f(g,(t,d)=>t.name.localeCompare(d.name));case"zToA":return f(g,(t,d)=>d.name.localeCompare(t.name));default:return g}},[g,r]),y=Math.ceil(p.length/s),S=C.useMemo(()=>{const t=n*s,d=t-s;return p?.slice(d,t)},[p,n,s]);return e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx(O,{setSearch:h,onSortChange:l,itemsPerPage:s,setItemsPerPage:m}),e.jsx("div",{className:`px-4 gap-6 ${o==="flex"?"flex  flex-col w-full ":"grid grid-cols-4 max-w-fit max-md:max-w-[90%]  justify-center place-items-center gap-14  mt-10 max-lg:grid-cols-3 max-md:grid-cols-2 "}`,children:c?Array.from({length:s}).map((t,d)=>e.jsx(P,{},d)):S.map(t=>e.jsx(k,{id:t.docId,imgURL:t.imageURL,smallDescription:t.smallDescription,price:t.price,title:t.name},t.id))}),e.jsx("div",{children:e.jsx(Z,{length:a.length,itemsPerPage:s,handlePagination:j,handleNextPage:v,currentPage:n,totalPages:y})})]})};export{$ as default};
